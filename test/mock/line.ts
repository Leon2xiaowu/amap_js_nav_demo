/** 线路1 司机接驾 */
export const line1 = {
  start: [120.76308,31.302148],
  end: [120.762716, 31.301883],
  path: [
    {
      location: "120.76219,31.30212",
      datetime: "2022-09-25 13:43:38",
      status: 50,
    },
    {
      location: "120.76219,31.30212",
      datetime: "2022-09-25 13:43:41",
      status: 50,
    },
    {
      location: "120.76219,31.30212",
      datetime: "2022-09-25 13:43:41",
      status: 50,
    },
    {
      location: "120.76212,31.30211",
      datetime: "2022-09-25 13:43:44",
      status: 50,
    },
    {
      location: "120.76212,31.30211",
      datetime: "2022-09-25 13:43:45",
      status: 50,
    },
    {
      location: "120.76212,31.30211",
      datetime: "2022-09-25 13:43:45",
      status: 50,
    },
    {
      location: "120.76212,31.30211",
      datetime: "2022-09-25 13:43:46",
      status: 50,
    },
    {
      location: "120.76212,31.30211",
      datetime: "2022-09-25 13:43:46",
      status: 50,
    },
    {
      location: "120.76212,31.30211",
      datetime: "2022-09-25 13:43:46",
      status: 50,
    },
    {
      location: "120.76201,31.30211",
      datetime: "2022-09-25 13:43:48",
      status: 50,
    },
    {
      location: "120.76201,31.30211",
      datetime: "2022-09-25 13:43:49",
      status: 50,
    },
    {
      location: "120.76184,31.3021",
      datetime: "2022-09-25 13:43:51",
      status: 50,
    },
    {
      location: "120.76184,31.3021",
      datetime: "2022-09-25 13:43:51",
      status: 50,
    },
    {
      location: "120.76165,31.30209",
      datetime: "2022-09-25 13:43:53",
      status: 50,
    },
    {
      location: "120.76165,31.30209",
      datetime: "2022-09-25 13:43:53",
      status: 50,
    },
    {
      location: "120.76165,31.30209",
      datetime: "2022-09-25 13:43:56",
      status: 50,
    },
    {
      location: "120.76144,31.30208",
      datetime: "2022-09-25 13:44:00",
      status: 50,
    },
    {
      location: "120.76125,31.30207",
      datetime: "2022-09-25 13:44:02",
      status: 50,
    },
    {
      location: "120.76104,31.30206",
      datetime: "2022-09-25 13:44:02",
      status: 50,
    },
    {
      location: "120.76104,31.30206",
      datetime: "2022-09-25 13:44:06",
      status: 50,
    },
    {
      location: "120.76056,31.30205",
      datetime: "2022-09-25 13:44:08",
      status: 50,
    },
    {
      location: "120.76056,31.30205",
      datetime: "2022-09-25 13:44:10",
      status: 50,
    },
    {
      location: "120.76056,31.30205",
      datetime: "2022-09-25 13:44:11",
      status: 50,
    },
    {
      location: "120.76056,31.30205",
      datetime: "2022-09-25 13:44:12",
      status: 50,
    },
    {
      location: "120.76008,31.30203",
      datetime: "2022-09-25 13:44:15",
      status: 50,
    },
    {
      location: "120.75984,31.30202",
      datetime: "2022-09-25 13:44:17",
      status: 50,
    },
    {
      location: "120.75959,31.302",
      datetime: "2022-09-25 13:44:22",
      status: 50,
    },
    {
      location: "120.75959,31.302",
      datetime: "2022-09-25 13:44:23",
      status: 50,
    },
    {
      location: "120.75879,31.30196",
      datetime: "2022-09-25 13:44:29",
      status: 50,
    },
    {
      location: "120.75879,31.30196",
      datetime: "2022-09-25 13:44:31",
      status: 50,
    },
    {
      location: "120.75825,31.30193",
      datetime: "2022-09-25 13:44:35",
      status: 50,
    },
    {
      location: "120.75799,31.30192",
      datetime: "2022-09-25 13:44:41",
      status: 50,
    },
    {
      location: "120.75799,31.30192",
      datetime: "2022-09-25 13:44:42",
      status: 50,
    },
    {
      location: "120.75764,31.3019",
      datetime: "2022-09-25 13:44:48",
      status: 50,
    },
    {
      location: "120.75753,31.3019",
      datetime: "2022-09-25 13:44:50",
      status: 50,
    },
    {
      location: "120.75753,31.3019",
      datetime: "2022-09-25 13:44:52",
      status: 50,
    },
    {
      location: "120.75742,31.30191",
      datetime: "2022-09-25 13:44:56",
      status: 50,
    },
    {
      location: "120.75737,31.30191",
      datetime: "2022-09-25 13:44:57",
      status: 50,
    },
    {
      location: "120.75737,31.30191",
      datetime: "2022-09-25 13:44:59",
      status: 50,
    },
    {
      location: "120.75737,31.30191",
      datetime: "2022-09-25 13:45:01",
      status: 50,
    },
    {
      location: "120.75737,31.30191",
      datetime: "2022-09-25 13:45:06",
      status: 50,
    },
    {
      location: "120.75737,31.30191",
      datetime: "2022-09-25 13:45:10",
      status: 50,
    },
    {
      location: "120.75737,31.30191",
      datetime: "2022-09-25 13:45:12",
      status: 50,
    },
    {
      location: "120.75737,31.30191",
      datetime: "2022-09-25 13:45:17",
      status: 50,
    },
    {
      location: "120.75737,31.30191",
      datetime: "2022-09-25 13:45:20",
      status: 50,
    },
    {
      location: "120.75737,31.30191",
      datetime: "2022-09-25 13:45:24",
      status: 50,
    },
    {
      location: "120.75733,31.30191",
      datetime: "2022-09-25 13:45:29",
      status: 50,
    },
    {
      location: "120.75733,31.30191",
      datetime: "2022-09-25 13:45:31",
      status: 50,
    },
    {
      location: "120.75759,31.30178",
      datetime: "2022-09-25 13:45:35",
      status: 50,
    },
    {
      location: "120.75759,31.30178",
      datetime: "2022-09-25 13:45:40",
      status: 50,
    },
    {
      location: "120.75759,31.30178",
      datetime: "2022-09-25 13:45:42",
      status: 50,
    },
    {
      location: "120.75759,31.30178",
      datetime: "2022-09-25 13:45:48",
      status: 50,
    },
    {
      location: "120.75885,31.30186",
      datetime: "2022-09-25 13:45:52",
      status: 50,
    },
    {
      location: "120.75885,31.30186",
      datetime: "2022-09-25 13:45:54",
      status: 50,
    },
    {
      location: "120.759,31.30186",
      datetime: "2022-09-25 13:46:00",
      status: 50,
    },
    {
      location: "120.759,31.30186",
      datetime: "2022-09-25 13:46:00",
      status: 50,
    },
    {
      location: "120.759,31.30186",
      datetime: "2022-09-25 13:46:05",
      status: 50,
    },
    {
      location: "120.759,31.30186",
      datetime: "2022-09-25 13:46:10",
      status: 50,
    },
    {
      location: "120.759,31.30186",
      datetime: "2022-09-25 13:46:11",
      status: 50,
    },
    {
      location: "120.759,31.30186",
      datetime: "2022-09-25 13:46:18",
      status: 50,
    },
    {
      location: "120.759,31.30186",
      datetime: "2022-09-25 13:46:20",
      status: 50,
    },
    {
      location: "120.759,31.30186",
      datetime: "2022-09-25 13:46:23",
      status: 50,
    },
    {
      location: "120.759,31.30186",
      datetime: "2022-09-25 13:46:29",
      status: 50,
    },
    {
      location: "120.759,31.30186",
      datetime: "2022-09-25 13:46:29",
      status: 50,
    },
    {
      location: "120.75905,31.30187",
      datetime: "2022-09-25 13:46:35",
      status: 50,
    },
    {
      location: "120.75913,31.30187",
      datetime: "2022-09-25 13:46:40",
      status: 50,
    },
    {
      location: "120.75913,31.30187",
      datetime: "2022-09-25 13:46:42",
      status: 50,
    },
    {
      location: "120.75941,31.30188",
      datetime: "2022-09-25 13:46:46",
      status: 50,
    },
    {
      location: "120.75941,31.30188",
      datetime: "2022-09-25 13:46:49",
      status: 50,
    },
    {
      location: "120.75961,31.30189",
      datetime: "2022-09-25 13:46:53",
      status: 50,
    },
    {
      location: "120.75978,31.3019",
      datetime: "2022-09-25 13:47:00",
      status: 50,
    },
    {
      location: "120.75978,31.3019",
      datetime: "2022-09-25 13:47:00",
      status: 50,
    },
    {
      location: "120.76,31.30191",
      datetime: "2022-09-25 13:47:06",
      status: 50,
    },
    {
      location: "120.76019,31.30192",
      datetime: "2022-09-25 13:47:09",
      status: 50,
    },
    {
      location: "120.76042,31.30193",
      datetime: "2022-09-25 13:47:12",
      status: 50,
    },
    {
      location: "120.76085,31.30195",
      datetime: "2022-09-25 13:47:16",
      status: 50,
    },
    {
      location: "120.76085,31.30195",
      datetime: "2022-09-25 13:47:18",
      status: 50,
    },
    {
      location: "120.76182,31.30198",
      datetime: "2022-09-25 13:47:29",
      status: 50,
    },
    {
      location: "120.76265,31.302",
      datetime: "2022-09-25 13:47:39",
      status: 50,
    },
    {
      location: "120.76285,31.30201",
      datetime: "2022-09-25 13:47:43",
      status: 100,
    },
    {
      location: "120.76285,31.30201",
      datetime: "2022-09-25 13:47:45",
      status: 100,
    },
    {
      location: "120.76285,31.30201",
      datetime: "2022-09-25 13:47:45",
      status: 100,
    },
    {
      location: "120.76293,31.30201",
      datetime: "2022-09-25 13:47:49",
      status: 100,
    },
  ],
};
/** 线路2 送乘客到目的地 */
export const line2 = {
  start: "120.762716,31.301883",
  end: "120.755394,31.315929",
  path: [
    {
      location: "120.76293,31.30201",
      datetime: "2022-09-25 13:47:50",
      status: 200,
    },
    {
      location: "120.76293,31.30201",
      datetime: "2022-09-25 13:47:50",
      status: 200,
    },
    {
      location: "120.76293,31.30201",
      datetime: "2022-09-25 13:47:50",
      status: 200,
    },
    {
      location: "120.76293,31.30201",
      datetime: "2022-09-25 13:47:52",
      status: 200,
    },
    {
      location: "120.76293,31.30201",
      datetime: "2022-09-25 13:47:56",
      status: 200,
    },
    {
      location: "120.76293,31.30201",
      datetime: "2022-09-25 13:47:59",
      status: 200,
    },
    {
      location: "120.76295,31.30201",
      datetime: "2022-09-25 13:48:01",
      status: 200,
    },
    {
      location: "120.76327,31.30204",
      datetime: "2022-09-25 13:48:09",
      status: 200,
    },
    {
      location: "120.76327,31.30204",
      datetime: "2022-09-25 13:48:09",
      status: 200,
    },
    {
      location: "120.76381,31.30208",
      datetime: "2022-09-25 13:48:13",
      status: 200,
    },
    {
      location: "120.76444,31.30212",
      datetime: "2022-09-25 13:48:19",
      status: 200,
    },
    {
      location: "120.7653,31.30216",
      datetime: "2022-09-25 13:48:29",
      status: 200,
    },
    {
      location: "120.76563,31.30217",
      datetime: "2022-09-25 13:48:39",
      status: 200,
    },
    {
      location: "120.76563,31.30217",
      datetime: "2022-09-25 13:48:49",
      status: 200,
    },
    {
      location: "120.76563,31.30217",
      datetime: "2022-09-25 13:48:59",
      status: 200,
    },
    {
      location: "120.76563,31.30217",
      datetime: "2022-09-25 13:49:10",
      status: 200,
    },
    {
      location: "120.76585,31.3023",
      datetime: "2022-09-25 13:49:20",
      status: 200,
    },
    {
      location: "120.76364,31.30219",
      datetime: "2022-09-25 13:49:39",
      status: 200,
    },
    {
      location: "120.76295,31.30215",
      datetime: "2022-09-25 13:49:50",
      status: 200,
    },
    {
      location: "120.76194,31.30211",
      datetime: "2022-09-25 13:50:01",
      status: 200,
    },
    {
      location: "120.76072,31.30205",
      datetime: "2022-09-25 13:50:10",
      status: 200,
    },
    {
      location: "120.75919,31.30197",
      datetime: "2022-09-25 13:50:20",
      status: 200,
    },
    {
      location: "120.75806,31.30192",
      datetime: "2022-09-25 13:50:31",
      status: 200,
    },
    {
      location: "120.75729,31.3021",
      datetime: "2022-09-25 13:50:40",
      status: 200,
    },
    {
      location: "120.7572,31.30346",
      datetime: "2022-09-25 13:50:49",
      status: 200,
    },
    {
      location: "120.75712,31.30434",
      datetime: "2022-09-25 13:51:00",
      status: 200,
    },
    {
      location: "120.75701,31.3068",
      datetime: "2022-09-25 13:51:31",
      status: 200,
    },
    {
      location: "120.75694,31.3084",
      datetime: "2022-09-25 13:51:41",
      status: 200,
    },
    {
      location: "120.75693,31.30873",
      datetime: "2022-09-25 13:51:50",
      status: 200,
    },
    {
      location: "120.75693,31.30873",
      datetime: "2022-09-25 13:52:00",
      status: 200,
    },
    {
      location: "120.75693,31.30873",
      datetime: "2022-09-25 13:52:19",
      status: 200,
    },
    {
      location: "120.75693,31.30873",
      datetime: "2022-09-25 13:52:29",
      status: 200,
    },
    {
      location: "120.75693,31.30873",
      datetime: "2022-09-25 13:52:41",
      status: 200,
    },
    {
      location: "120.75693,31.30873",
      datetime: "2022-09-25 13:52:50",
      status: 200,
    },
    {
      location: "120.75693,31.30901",
      datetime: "2022-09-25 13:53:01",
      status: 200,
    },
    {
      location: "120.75691,31.30919",
      datetime: "2022-09-25 13:53:10",
      status: 200,
    },
    {
      location: "120.75691,31.30919",
      datetime: "2022-09-25 13:53:21",
      status: 200,
    },
    {
      location: "120.75691,31.30919",
      datetime: "2022-09-25 13:53:41",
      status: 200,
    },
    {
      location: "120.7569,31.30926",
      datetime: "2022-09-25 13:53:49",
      status: 200,
    },
    {
      location: "120.7569,31.30927",
      datetime: "2022-09-25 13:54:10",
      status: 200,
    },
    {
      location: "120.75688,31.30946",
      datetime: "2022-09-25 13:54:20",
      status: 200,
    },
    {
      location: "120.75683,31.31053",
      datetime: "2022-09-25 13:54:41",
      status: 200,
    },
    {
      location: "120.75682,31.31097",
      datetime: "2022-09-25 13:54:46",
      status: 200,
    },
    {
      location: "120.75682,31.31097",
      datetime: "2022-09-25 13:54:47",
      status: 200,
    },
    {
      location: "120.75681,31.31122",
      datetime: "2022-09-25 13:54:52",
      status: 200,
    },
    {
      location: "120.75679,31.31172",
      datetime: "2022-09-25 13:54:57",
      status: 200,
    },
    {
      location: "120.75678,31.31207",
      datetime: "2022-09-25 13:55:00",
      status: 200,
    },
    {
      location: "120.75677,31.31244",
      datetime: "2022-09-25 13:55:04",
      status: 200,
    },
    {
      location: "120.75671,31.31362",
      datetime: "2022-09-25 13:55:11",
      status: 200,
    },
    {
      location: "120.75671,31.31362",
      datetime: "2022-09-25 13:55:11",
      status: 200,
    },
    {
      location: "120.7567,31.31398",
      datetime: "2022-09-25 13:55:16",
      status: 200,
    },
    {
      location: "120.75668,31.31458",
      datetime: "2022-09-25 13:55:20",
      status: 200,
    },
    {
      location: "120.75668,31.31458",
      datetime: "2022-09-25 13:55:21",
      status: 200,
    },
    {
      location: "120.75639,31.31499",
      datetime: "2022-09-25 13:55:28",
      status: 200,
    },
    {
      location: "120.75614,31.31497",
      datetime: "2022-09-25 13:55:30",
      status: 200,
    },
    {
      location: "120.75599,31.31495",
      datetime: "2022-09-25 13:55:34",
      status: 200,
    },
    {
      location: "120.75599,31.31495",
      datetime: "2022-09-25 13:55:34",
      status: 200,
    },
    {
      location: "120.75599,31.31495",
      datetime: "2022-09-25 13:55:40",
      status: 200,
    },
    {
      location: "120.75599,31.31495",
      datetime: "2022-09-25 13:55:40",
      status: 200,
    },
    {
      location: "120.75599,31.31495",
      datetime: "2022-09-25 13:55:46",
      status: 200,
    },
    {
      location: "120.75599,31.31495",
      datetime: "2022-09-25 13:55:50",
      status: 200,
    },
    {
      location: "120.75599,31.31495",
      datetime: "2022-09-25 13:55:52",
      status: 200,
    },
    {
      location: "120.75599,31.31495",
      datetime: "2022-09-25 13:55:58",
      status: 200,
    },
    {
      location: "120.75599,31.31495",
      datetime: "2022-09-25 13:56:01",
      status: 200,
    },
    {
      location: "120.75599,31.31495",
      datetime: "2022-09-25 13:56:04",
      status: 200,
    },
    {
      location: "120.75571,31.31493",
      datetime: "2022-09-25 13:56:11",
      status: 200,
    },
    {
      location: "120.75509,31.31488",
      datetime: "2022-09-25 13:56:21",
      status: 200,
    },
    {
      location: "120.75437,31.31483",
      datetime: "2022-09-25 13:56:30",
      status: 200,
    },
  ],
};

function transformPoint(
  point: {
    location: string;
    datetime: string;
    status?: number;
  },
  interval: number
) {
  return {
    location: point.location.split(",").map((poi) => +poi),
    interval: interval,
  };
}

export function calcPointInterval(
  path: {
    location: string;
    datetime: string;
    status?: number;
  }[]
): { location: AMap.Vector2; interval: number }[] {
  const result: any[] = [];
  let lastTime = path[0].datetime;

  result.push(transformPoint(path[0], 0));

  for (let index = 1; index < path.length; index++) {
    const p = path[index];
    const interval =
      new Date(p.datetime).getTime() - new Date(lastTime).getTime();

    result.push(transformPoint(p, interval));

    lastTime = p.datetime;
  }
  return result;
}
